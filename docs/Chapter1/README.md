## 1.1 分布式系统的定义

分布式系统是若干独立计算机的集合，这些计算机对于用户来说就像是单个相关系统。

为了使种类各异的计算机和网络都呈现为单个的系统，分布式系统常常通过一个“软件层”组织起来，该“软件层”在逻辑上位于用户和应用程序组成的高层与由操作系统组成的低层之间。这样的分布式系统有时候又叫作中间件。

一个分布式系统的例子是位于一所大学或者某个公司部门的工作站网络，该系统除了包括每个用户自己的工作站以外，还应该包括机房内的一个处理器池，这些处理器并不分配给特定的用户，而是根据需要进行动态调配。这样的系统可能包含一个单一的文件系统，允许所有的机器通过相同的方法并且使用相同的路径名了来访问所有的文件。并且当用户键入一个命令的时候，系统将寻找执行该命令的最佳位置，也许会在用户自己的工作站上直接执行该命令，也可能会在别人的一个空闲工作站上执行，还有可能在机房中某个尚未分配的处理器上面执行，只要这个系统整体外观和行为与传统的单处理器分时操作系统相似，那么这个系统就可以看作是分布式系统。

## 1.2 目标

分布式系统必须实现以下四个关键目标：让用户方便地与资源连接，隐藏资源在网络上分布的事实，开放的，可扩展的。
> 让用户连接到资源

分布式系统的额最主要目标是使用户能够方便地访问远程资源，并且以一种受控的方式与其他用户共享这些资源。

> 透明性

分布式系统的重要目标就是将它的进程和资源实际上在多台计算机上分布这样一个事实隐藏起来。如果一个分布式系统能够在用户和应用程序面前呈现为单个计算机系统，这样的分布式系统就称为透明的。
透明性在分布式系统中的表现形式各种各样，

|||
|-|-|
|访问|隐藏数据表示形式的不同以及资源访问方式的不同|
|位置|隐藏资源所在位置|
|迁移|隐藏资源是否移动到另一个位置|
|重定位|隐藏资源是否在使用过程中移动到另一个位置|
|复制|隐藏是否对资源进行复制|
|并发|隐藏资源是否由若干互相竞争的用户共享|
|故障|隐藏资源的故障和恢复|
|持久性|隐藏资源位于内存中还是硬盘中|

把所有分布情况都对用户完全屏蔽不见得就是一件好事，例如，很多Internet应用程序都会不断尝试连接到某台服务器，多次失败后才最终放弃，这种在用户专享另一台服务器之前如果隐藏服务器短暂故障可能会造成整个系统变慢。

> 开放性

一个开放性的分布式系统是这样的系统：他根据一系列准则来提供服务，这些准则描述了提供服务的语法和语义。

> 可扩展性

规模可扩展性，地狱可扩展性，管理可扩展性。

三种扩展技术：隐藏通信等待时间、分布技术以及复制技术。

隐藏通信时间对于地狱扩展比较适用，尽量避免等待远程服务怼请求的响应。

分布技术是把某个组建分割成多个部分，然后把它们分散到系统中去。适用分布技术的一个例子就是Internet DNS(Domain Name System)。

复制不仅能够增加可用性，并且还能够有助于组建的负载平衡，从而使性能得到提高。




## 1.3 分布式系统的硬件
一般将计算机分成两类：多处理器系统和多计算机系统。

多处理器系统：共享存储器的计算机系统。

多计算机系统：不共享存储器的计算机系统。

其实还可以按照网络互联将计算机分成基于总线和基于交换的。对于多计算机系统，还能进一步划分，一类是同构的，另一类是异构的。在同构的多计算机系统中，本质上系统只有一个单独的互联网络，该网络在系统中全部使用同一种技术，所有的处理器也是一样的，所以同构式的计算机系统更多地被称为并行系统，与此相反的是异构的多计算机系统包含的许多不同的独立计算机，它们通过不同的网络互联。


## 1.4 分布式系统的软件






### 习题
1. 中间件在分布式系统中扮演什么样的角色？

中间件是在网络操作系统之上一个附加的软件层，用来隐藏底层计算机集合的异构性和分布性。

2. 请解释透明性的含义，并且给出各种类型透明性的例子

|||
|-|-|
|访问|隐藏数据表示形式的不同以及资源访问方式的不同|
|位置|隐藏资源所在位置|
|迁移|隐藏资源是否移动到另一个位置|
|重定位|隐藏资源是否在使用过程中移动到另一个位置|
|复制|隐藏是否对资源进行复制|
|并发|隐藏资源是否由若干互相竞争的用户共享|
|故障|隐藏资源的故障和恢复|
|持久性|隐藏资源位于内存中还是硬盘中|


3. 在分布式系统中，为什么有时候难以隐藏故障的发生以及故障恢复过程？

一般来说很难发现服务器是否发生了故障，但是如果服务器有变慢的迹象可以大致推断出服务器发生了一些故障。

4. 为什么有时要求最大程度地实现透明性并不好？

把所有分布情况都对用户完全屏蔽不见得就是一件好事，例如，很多Internet应用程序都会不断尝试连接到某台服务器，多次失败后才最终放弃，这种在用户专享另一台服务器之前如果隐藏服务器短暂故障可能会造成整个系统变慢。

5. 什么是开放的分布式系统？开放性带来哪些好处？


6. 请对可扩展系统的含义做出准确的描述。

地狱，规模，管理。
7. 可以通过应用多种技术来取得可扩展性。请说出这些技术。
隐藏通信时间、分布、复制。

8. 多处理器系统与多计算机系统有什么不同？


9.  --
10. --
11. 分布式操作系统和网络操作系统有什么不同？
12. 请解释如何使用微内核将操作系统组织成客户-服务器的方式
13. 请解释基于分页的分布式共享存储器系统主要有哪些操作。
14. 为什么要开发分布式共享存储器？什么问题给这种系统的高效实现造成了困难？
15. 请解释什么是分布式共享存储器系统中的伪共享。你有没有针对这个问题的解决方案？
16. 由于存在错误，某个试验性文件服务器有1/4的时间处于宕机状态，如果需要确保服务至少要99%的时间可用，需要将该文件服务器复制多少次？
17. 什么是三层客户-服务器体系结构？
18. 纵向分布与横向分布有什么不同？
